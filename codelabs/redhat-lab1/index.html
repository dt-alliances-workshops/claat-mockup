
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Lab 1 Openshift 4 101 w/Dynatrace BYO Container Overview</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-193960361-1"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="redhat-lab1"
                  title="Lab 1 Openshift 4 101 w/Dynatrace BYO Container Overview"
                  environment="web"
                  feedback-link="https://github.com/dt-alliances-workshops/claat-mockup">
    
      <google-codelab-step label="Bring your own docker" duration="0">
        <p>It&#39;s easy to get started with OpenShift whether you&#39;re using our app templates or bringing your existing assets.  In this quick lab we will deploy an application using an exisiting container image.  OpenShift will create an image stream for the image as well as deploy and manage containers based on that image.  And we will dig into the details to show how all that works.</p>
<p>In this and other labs you&#39;ll have the option of choosing to use the CLI or the Web Console. Please choose one, but not both as the steps are repeated.</p>


      </google-codelab-step>
    
      <google-codelab-step label="CLI Steps (Optional)" duration="0">
        <h2 is-upgraded>Let&#39;s point OpenShift to an existing built container image</h2>
<p>Verify you&#39;re still in the project we created at the end of the last lab by going to the terminal and typing the following:</p>
<pre><code language="language-bash" class="language-bash">$ oc projects
</code></pre>
<p>You should see something <em>similar</em> in the last line of the output:</p>
<pre><code language="language-bash" class="language-bash">$ Using project &#34;demo-0&#34; on server &#34;https://172.30.0.1:443&#34;.
</code></pre>
<p>If you don&#39;t, use the following command to use the correct project:</p>
<pre><code language="language-bash" class="language-bash">$ oc project demo-0
</code></pre>
<p>In the terminal and type the following:</p>
<pre><code language="language-bash" class="language-bash">$ oc new-app sonatype/nexus:oss
</code></pre>
<p>The output should show something <em>similar</em> to below:</p>
<pre><code language="language-bash" class="language-bash">--&gt; Found container image ae52f07 (4 months old) from Docker Hub for &#34;sonatype/nexus:oss&#34;

    Red Hat Universal Base Image 7
    ------------------------------
    The Universal Base Image is designed and engineered to be the base layer for all of your 
containerized applications, middleware and utilities. This base image is freely redistributable, 
but Red Hat only supports Red Hat technologies through subscriptions for Red Hat products. 
This image is maintained by Red Hat and updated regularly.

    Tags: base rhel7

    * An image stream tag will be created as &#34;nexus:oss&#34; that will track this image

--&gt; Creating resources ...
    imagestream.image.openshift.io &#34;nexus&#34; created
    deployment.apps &#34;nexus&#34; created
    service &#34;nexus&#34; created
--&gt; Success
    Application is not exposed. You can expose services to the outside world by executing one or 
more of the commands below:
     &#39;oc expose svc/nexus&#39;
    Run &#39;oc status&#39; to view your app.  
</code></pre>
<p>Now, let&#39;s create a route, so that you can get to the app:</p>
<pre><code language="language-bash" class="language-bash">$ oc expose svc/nexus
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Web Console Steps (Optional)" duration="0">
        <h2 is-upgraded>Let&#39;s point OpenShift to an existing built container image</h2>
<ol type="1">
<li>Switch to &#34;Developer&#34; mode, by clicking on the menu, in the top left corner, where it says &#34;Administrator&#34;, and pick &#34;Developer&#34;<img alt="image" src="img\\c3b0035b43605785.png"></li>
<li>Switch to &#34;Project: demo-0&#34;, by clicking on the menu, in the top left, where it says &#34;Project&#34; and pick &#34;demo-0&#34;<img alt="image" src="img\\ded1479b1fddd0da.png"></li>
<li>Click &#34;+Add&#34;<img alt="image" src="img\\c70235898eaee63b.png"></li>
<li>Click &#34;Container Image&#34;, to add an existing image from the container registry<img alt="image" src="img\\98874e254ac1916c.png"></li>
<li>Select the option for &#34;Image name from external registry&#34; and enter &#34;sonatype/nexus:oss&#34;, then ensure that the image is validated.<img alt="image" src="img\\38d59b2445b748b1.png"></li>
<li>Select the option &#34;Create Application&#34; for the Application dropdown and supply the Application name &#34;nexus&#34;</li>
</ol>
<p>Enter the values as shown in the table below:</p>
<table>
<tr><td colspan="1" rowspan="1"><p><strong>Application Name</strong></p>
</td><td colspan="1" rowspan="1"><p>nexus-app</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Name</strong></p>
</td><td colspan="1" rowspan="1"><p>nexus</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Resources</strong></p>
</td><td colspan="1" rowspan="1"><p>Deployment Config</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Create a route to the application</strong></p>
</td><td colspan="1" rowspan="1"><p>Checked</p>
</td></tr>
</table>
<p>Click &#34;Create&#34;</p>


      </google-codelab-step>
    
      <google-codelab-step label="Summary" duration="0">
        <p>In this lab you&#39;ve deployed an example container image, pulled from Quay.io, into a pod running in OpenShift.  You exposed a route for clients to access that service via thier web browsers.  And you learned how to get and describe resources using the command line and the web console.  Hopefully, this basic lab also helped to get you familiar with using the CLI and navigating within the web console.</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
